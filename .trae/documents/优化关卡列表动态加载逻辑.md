## 动态关卡加载优化方案

### 1. 智能滚动监听
- 监听 `ScrollView.EventType.SCROLLING` 事件。
- 实时计算 `content` 的高度与当前滚动偏移量。
- **预加载逻辑**：当用户滑动到距离底部仅剩 300 像素或内容高度的 20% 时，提前启动 `loadMoreLevels`。

### 2. 性能优化：分帧创建
- 修改 `loadMoreLevels`：不再一次性使用 `for` 循环同步创建 20 个节点。
- 采用异步分帧创建：每帧创建 2 个节点，分 10 帧完成一页加载，消除瞬间卡顿。

### 3. 数据边界与状态
- 设置 `maxLevel = 1700`，到达上限后停止加载。
- 增加加载状态锁，确保在分帧加载期间不会重复触发。

### 4. 代码重构 (levelSelect.ts)
- 优化 `createLevelItem` 方法，增加对关卡解锁状态的初步判断逻辑。
- 确保 `ScrollView` 的 `content` 节点能够实时更新高度以维持滚动的连贯性。

## 确认请求
是否按照此“预加载+分帧创建”的高级方案进行重构？这会让滑动过程中的数据添加更加自然。